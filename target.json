{
    "cudnn": {
        "benchmark": true,
        "deterministic": false,
        "enabled": true
    },
    "gpus": "(0,1,2,3)",
    "output_dir": "output",
    "log_dir": "log",
    "workers": 4,
    "print_freq": 100,
    "dataset": {
        "dataset": "cityscapes",
        "root": "data/",
        "test_set": "list/cityscapes/val.lst",
        "train_set": "list/cityscapes/train.lst",
        "num_classes": 19
    },
    "model": {
        "name": "seg_hrnet",
        "pretrained": "pretrained_models/hrnet_w18_small_model_v2.pth",
        "extra": {
            "final_conv_kernel": 1,
            "stage1": {
                "num_modules": 1,
                "num_ranches": 1,
                "block": "BOTTLENECK",
                "num_blocks": [
                    2
                ],
                "num_channels": [
                    64
                ],
                "fuse_method": "SUM"
            },
            "stage2": {
                "num_modules": 1,
                "num_branches": 2,
                "block": "BASIC",
                "num_blocks": [
                    2,
                    2
                ],
                "num_channels": [
                    18,
                    36
                ],
                "fuse_method": "SUM"
            },
            "stage3": {
                "num_modules": 3,
                "num_branches": 3,
                "block": "BASIC",
                "num_blocks": [
                    2,
                    2,
                    2
                ],
                "num_channels": [
                    18,
                    36,
                    72
                ],
                "fuse_method": "SUM"
            },
            "stage4": {
                "num_modules": 2,
                "num_branches": 4,
                "block": "BASIC",
                "num_blocks": [
                    2,
                    2,
                    2,
                    2
                ],
                "num_channels": [
                    18,
                    36,
                    72,
                    144
                ],
                "fuse_method": "SUM"
            }
        }
    },
    "loss": {
        "use_ohem": false,
        "ohemthres": 0.9,
        "ohemkeep": 131072
    },
    "train": {
        "image_size": [
            1024,
            512
        ],
        "base_size": 2048,
        "batch_size_per_gpu": 3,
        "shuffle": true,
        "begin_epoch": 0,
        "end_epoch": 484,
        "resume": true,
        "optimizer": "sgd",
        "lr": 0.01,
        "wd": 0.0005,
        "momentum": 0.9,
        "nesterov": false,
        "flip": true,
        "multi_scale": true,
        "downsamplerate": 1,
        "ignore_label": 255,
        "scale_factor": 16
    },
    "test": {
        "image_size": [
            2048,
            1024
        ],
        "base_size": 2048,
        "batch_size_per_gpu": 4,
        "flip_test": false,
        "multi_scale": false
    }
}